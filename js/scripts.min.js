function calculateDistances(e){return _.map(e.children,function(e){var t=0,n;_.each(e.vertices,function(e,r){if(r>0){t+=n.distanceTo(e)}n=e});return t})}function clamp(e,t,n){return Math.max(Math.min(e,n),t)}function map(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))}function cmap(e,t,n,r,i){return clamp(map(e,t,n,r,i),r,i)}function addClass(){var e=document.getElementById("dev");e.className+=" fadeIn"}$(function(){var e=(new Two({fullscreen:false})).appendTo(document.getElementById("nathan"));$.get("img/iAmNathanOutline.svg",function(t){function f(e){if(o==true){var t=n.getBoundingClientRect();s=true;r=cmap(e.clientX-window.innerWidth/2+320,t.left,t.right,0,1);l(n,r);a()}}function l(e,t){var n=0;var r=t*e.total;var i=0;_.each(e.children,function(t){var s=e.distances[n];var o=i;var u=i+s;var a=cmap(r,o,u,0,1);t.ending=a;i=u;n++})}var n=e.interpret($(t).find("svg")[0]);var r=0;var i,s=false;var o=false;var u=function(){r=0;l(n,0);i=_.after(60,u)};var a=_.debounce(function(){s=false},1e3);n.center().translation.set(e.width/2,e.height/2);n.distances=calculateDistances(n);n.total=0;n.stroke="white";n.linewidth=1;n.fill="white";_.each(n.distances,function(e){n.total+=e});u();$("svg").bind("mousemove",f).bind("touchmove",function(e){var t=e.originalEvent.changedTouches[0];f({clientX:t.pageX,clientY:t.pageY});return false});_.defer(function(){e.bind("resize",function(){n.translation.set(e.width/2,e.height/2)}).bind("update",function(){if(o==false){if(r<.9999){r+=.00625}else{o=true}l(n,r)}}).play()})})});var lockTouchScreen=function(e){if(e==false){document.ontouchmove=null}else{document.ontouchmove=function(e){e.preventDefault()}}};lockTouchScreen(isLocked=true);setTimeout(addClass,3e3)